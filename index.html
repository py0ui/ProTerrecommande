<!DOCTYPE html>
<html lang="fr">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Proterre • Panier (simulation)</title>
  <style>
    body{font-family:sans-serif;margin:0;padding:0;background:#fff;color:#2B0954}
    h1{text-align:center;padding:1rem;background:#2B0954;color:#F6B930;margin:0}
    main{padding:1rem;max-width:800px;margin:auto}
    .product{display:flex;align-items:center;justify-content:space-between;border:2px solid #2B0954;padding:.75rem;border-radius:10px;margin-bottom:.75rem}
    .product img{width:80px;height:80px;object-fit:contain;border-radius:6px}
    .details{flex:1;margin-left:.75rem}
    .details h3{margin:.2rem 0;font-size:1.1rem}
    .price{font-weight:700;color:#3E0B75}
    .actions{display:flex;align-items:center;gap:.4rem}
    .actions button{padding:.4rem .7rem;border-radius:6px;border:2px solid #2B0954;background:#F6B930;color:#2B0954;font-weight:700;cursor:pointer}
    .actions input{width:42px;text-align:center;font-weight:700;border:2px solid #2B0954;border-radius:6px}
    #totals{margin-top:1.5rem;border-top:2px solid #2B0954;padding-top:1rem;font-size:1.1rem;font-weight:700}
    footer{text-align:center;padding:1rem;margin-top:2rem;background:#EEE6FA;border-top:2px solid #2B0954}
    .discord-fab{position:fixed;right:18px;bottom:18px;display:inline-flex;align-items:center;gap:.5rem;background:#5865F2;color:#fff;padding:.7rem 1rem;border-radius:999px;font-weight:900;box-shadow:0 12px 25px rgba(0,0,0,.25)}
    .discord-fab img{width:22px;height:22px}
  </style>
</head>
<body>
  <h1>Simulation Panier</h1>
  <main>
    <div id="products"></div>
    <div id="totals">Total : 0€</div>
  </main>
  <footer>© 2025 Proterre — Simulation d'achat</footer>

  <a class="discord-fab" href="https://discord.com" target="_blank" rel="noopener">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/discord.svg" alt="Discord"> Nous contacter
  </a>

  <script>
    const PRODUCTS = [
      { id:'magnetite', name:'Magnétite', price:12, img:'https://i.ibb.co/mjQvwCF/Capture-decran-2025-08-02-021605.png' },
      { id:'cuivre', name:'Cuivre', price:24, img:'https://i.ibb.co/Z6vS1VYF/Capture-decran-2025-08-02-021312-Pica-1.png' },
      { id:'pierre', name:'Pierre', price:24, img:'https://i.ibb.co/Nn2m5nWx/Capture-decran-2025-08-02-021319-1.png' },
      { id:'or', name:'Or', price:6, img:'https://i.ibb.co/d4QKdd83/Capture-decran-2025-08-03-030813-1.png' },
      { id:'diamant', name:'Diamant', price:150, img:'https://i.ibb.co/wZdrtmbh/Capture-decran-2025-08-03-030419-1.png' },
    ];

    let cart = {};

    const container = document.getElementById('products');
    const totals = document.getElementById('totals');

    function render(){
      container.innerHTML = '';
      PRODUCTS.forEach(p=>{
        const qty = cart[p.id]?.qty || 0;
        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `
          <img src="${p.img}" alt="${p.name}">
          <div class="details">
            <h3>${p.name}</h3>
            <div class="price">${p.price}€</div>
          </div>
          <div class="actions">
            <button onclick="add('${p.id}', -1)">-</button>
            <input type="number" value="${qty}" onchange="setQty('${p.id}', this.value)">
            <button onclick="add('${p.id}', 1)">+</button>
          </div>
        `;
        container.appendChild(div);
      });
      updateTotal();
    }

    function add(id, d){
      if(!cart[id]) cart[id] = {qty:0};
      cart[id].qty = Math.max(0, cart[id].qty + d);
      render();
    }
    function setQty(id, v){
      if(!cart[id]) cart[id] = {qty:0};
      cart[id].qty = Math.max(0, parseInt(v)||0);
      render();
    }

    function updateTotal(){
      let total = 0;
      for(const p of PRODUCTS){
        if(cart[p.id]) total += p.price * cart[p.id].qty;
      }
      totals.textContent = 'Total : ' + total.toLocaleString('fr-FR') + '€';
    }

    render();
  </script>
</body>
</html>

